{% load wagtailcore_tags wagtailmedia_tags %}

<div class="audio-block">
    {% if value.title %}<h3>{{ value.title }}</h3>{% endif %}
    
    <div class="audio-player">
        {% if value.audio_file %}
            {% if value.audio_file.type == 'audio' %}
                <audio controls>
                    <source src="{{ value.audio_file.file.url }}" type="{{ value.audio_file.file.mime_type }}">
                    Your browser does not support the audio element.
                </audio>
            {% endif %}
        {% elif value.audio_url %}
            <audio controls>
                <source src="{{ value.audio_url }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        {% endif %}
    </div>
    
    {% if value.description %}
        <div class="audio-description">
            {{ value.description|richtext }}
        </div>
    {% endif %}
</div> 